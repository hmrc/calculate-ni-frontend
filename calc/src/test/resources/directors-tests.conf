tests = [
  # {
  #   tax-year = 2018
  #   rows = [
  #     {
  #       id = "1"
  #       category = A
  #       gross-pay = 100000
  #       total = 17188.61
  #       ee = 4551.12
  #     }
  #   ]
  #   total {
  #     net = 17188.61
  #     ee = 4551.12
  #     er = 12637.49
  #   }
  # },
  # {
  #   description = "underpayments"
  #   tax-year = 2018
  #   rows = [
  #     {
  #       id = "1"
  #       category = A
  #       gross-pay = 100000
  #       total = 17188.61
  #       ee = 4551.12
  #     }
  #   ]
  #   paid {
  #     net = 10000
  #     ee  = 1000
  #   }
  #   total {
  #     net = 17188.61
  #     ee  = 4551.12
  #     er  = 12637.49
  #   }
  #   underpayment {
  #     net = 7188.61
  #     ee  = 3551.12
  #     er  = 3637.49
  #   }
  #   overpayment {
  #     net = 0
  #     ee  = 0
  #     er  = 0
  #   }
  # },
  # {
  #   description = "overpayments"
  #   tax-year = 2018
  #   rows = [
  #     {
  #       id = "1"
  #       category = A
  #       gross-pay = 100000
  #       total = 17188.61
  #       ee = 4551.12
  #     }
  #   ]
  #   paid {
  #     net = 20000
  #     ee  = 5000
  #   }
  #   total {
  #     net = 17188.61
  #     ee  = 4551.12
  #     er  = 12637.49
  #   }
  #   underpayment {
  #     net = 0
  #     ee  = 0
  #     er  = 0
  #   }
  #   overpayment {
  #     net = 2811.39
  #     ee  = 448.88
  #     er  = 2362.51
  #   }
  # },
  {
    description = "2018 precedence"
    tax-year = 2018
    rows = [
      {
        id = "1"
        category = B
        gross-pay = 3000
        total = 0
        ee = 0
      },
      {
        id = "2"
        category = M
        gross-pay = 3000
        total = 0
        ee = 0
      },
      {
        id = "3"
        category = A
        gross-pay = 3000
        total = 148.61
        ee = 69.12
      },
      {
        id = "4"
        category = Z
        gross-pay = 3000
        total = 60
        ee = 60
      },
      {
        id = "5"
        category = J
        gross-pay = 3000
        total = 60
        ee = 60
      },
      {
        id = "6"
        category = C
        gross-pay = 3000
        total = 0
        ee = 0
      }
    ]
    total {
      net = 268.61
      ee  = 189.12
      er  = 79.49
    }
  },
  # {
  #   description = "2018 pro-rata"
  #   tax-year = 2018
  #   pro-rata {
  #     from = 2018-09-01
  #     to   = 2019-04-05
  #   }
  #   rows = [
  #     {
  #       id = "1"
  #       category = A
  #       gross-pay = 100000
  #       total = 15820.16
  #       ee = 2713.20
  #     }
  #   ]
  #   total {
  #     net = 15820.16
  #     ee = 2713.20
  #     er = 13106.96
  #   }
  # },
  # {
  #   description = "pro-rata to-date irrelevant"
  #   tax-year = 2018
  #   pro-rata {
  #     from = 2018-09-01
  #     to   = 2019-09-02
  #   }
  #   rows = [
  #     {
  #       id = "1"
  #       category = A
  #       gross-pay = 100000
  #       total = 15820.16
  #       ee = 2713.20
  #     }
  #   ]
  #   total {
  #     net = 15820.16
  #     ee = 2713.20
  #     er = 13106.96
  #   }
  # },
  {
    description = "2017 precedence"
    tax-year = 2017
    rows = [
      {
        id = "1"
        category = B
        gross-pay = 5000
        total = 0
        ee = 0
      },
      {
        id = "2"
        category = M
        gross-pay = 5000
        total = 220.32
        ee = 220.32
      },
      {
        id = "3"
        category = A
        gross-pay = 5000
        total = 1290
        ee = 600
      },
      {
        id = "4"
        category = Z
        gross-pay = 5000
        total = 100
        ee = 100
      },
      {
        id = "5"
        category = J
        gross-pay = 5000
        total = 790
        ee = 100
      },
      {
        id = "6"
        category = C
        gross-pay = 5000
        total = 690
        ee = 0
      },
      {
        id = "7"
        category = H
        gross-pay = 5000
        total = 600
        ee = 600
      }
    ]
    total {
      net = 3690.32
      ee  = 1620.32
      er  = 2070
    }

  }

]

