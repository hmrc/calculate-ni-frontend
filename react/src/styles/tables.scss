table thead th, table td, table tbody th {
  border: none;
  font-weight: 400;
}

.table-wrapper {
  border-color: #B1B4B6;
  border-style: solid;
  border-width: 1px 0;
  padding: 30px 0 15px;

  thead th, tbody td, tbody td.input {
    height: 40px;
  }

  thead th, tbody td {
    @media screen and (min-width: 760px) {
      height: 40px;
      padding: 0 10px;
    }
  }

  thead {
    th {
      background: var(--table-head-fill);
      border: 1px solid var(--table-head-border);
      font-weight: 400;
      color: #333333;
      text-align: left;
    }
    tr {
      &.clear {
        th {
          background: transparent;
          border: 1px solid transparent;
          border-bottom: 1px solid var(--table-head-border);
          color: #0B0C0C;
          text-align: left;
          padding-left: 0;
          span {
            display: block;
            padding-left: 10px;
          }
          &:first-child span {
            padding-left: 0;
          }
          &.border span {
            border-left: 1px solid var(--table-head-border)
          }
          &.lg {
            font-size: 21px;
          }
        }

        &.bottom-nobor th {
          border-bottom: 1px solid transparent;
        }
      }
    }
  }

  tbody {
    tr {
      &.active {
        td {
          border: 1px solid var(--active-highlight-border);
        }
      }
    }

    td {
      border: 1px solid var(--table-body-border);
      color: #333333;
      &.result-cell {
        white-space: nowrap;
      }
    }
  }

  table {
    td, th {
      font-size: 16px;
    }

    tbody td {
      line-height: 40px;
      @media screen and (min-width: 760px) {
        line-height: 21px;
      }
    }
  }

  button {
    &[disabled] {
      pointer-events: none;
    }
  }
}

.spaced-table {
  th {
    padding: 10px 20px;
    &.last-heading {
      padding-right: 0;
    }
  }

  td {
    &.input-cell {
      padding: 10px 20px;

      &.form-group {
        margin-bottom: 0;
      }

      input {
        border: 2px solid var(--input-border);
        width: 100%;
        padding: 0 5px;
        height: 36px;
        line-height: 36px;
        &.half {
          width: 50%;
        }
      }
    }

    &.readonly {
      padding: 10px 20px;
      &.last-cell {
        padding-right: 0;
      }
    }
  }

  td {
    &.input-cell {
      .govuk-input--error {
        border: 2px solid #d4351c;
      }
    }
  }

  .govuk-error-message {
    margin-bottom: 5px;
  }
}

table {
  tr {
    &.active {
      td {
        background: var(--active-highlight-bg);
      }
    }
  }

  &.summary {
    tr {
      &.sections {
        th {
          padding-bottom: 10px;
        }
      }
    }
  }

  &.contribution-details {
    margin-bottom: 15px;

    select {
      &.borderless {
        width: 100%;
        height: 100%;
        background-color: white;
        border-width: 1px;
        padding-left: 5px;
        padding-right: 5px;
        margin: 0;
        font-family: inherit;
        font-size: inherit;
        cursor: inherit;
        line-height: inherit;
        outline: none;
        &:focus {
          outline: 3px solid $govuk-focus-colour;
        }
      }
    }

    input {
      height: 100%;
      padding: 0 10px;
      width: calc(100% - 25px);
      border: 1px solid var(--table-head-border);
      color: #333333;

      &::placeholder {
        color: #505a5f;
      }

      &:focus {
        outline: 3px solid #fd0;
        outline-offset: -3px;
        box-shadow: inset 0 0 0 5px;
      }
    }

    th {
      table th {
        border-bottom: none;
      }

      &.date-toggles {
        width: 308px;
      }

      &.earnings-factor {
        width: 110px;
      }

      &.category-col {
        width: 240px;
      }

      &.gross-pay {
        width: 130px;
      }

      &.notes {
        width: 85px;
      }

      &.date-from {
        width: 160px;
      }

      &.date-mode {
        width: 75px;
      }
    }

    td {
      &.input {
        padding: 5px;

        .govuk-form-group {
          height: 100%;
        }
      }

      &.date-toggles {
        padding-top: 5px;
        padding-bottom: 5px;
      }

      &.mode > button {
        min-width: 118px;
        font-size: 14px;
      }

      &:has(input:focus) {
        background: green !important;
      }
    }

    .govuk-date-input__item {
      margin-right: 5px;

      input {
        &[type="text"] {
          border: 1px solid #0B0C0C;
          font-size: 16px;
          width: 100%;
          height: 36px;
        }
      }

      label {
        display: none;
      }

      .govuk-form-group {
        padding-right: 1em;
      }

      .govuk-input--width-2 {
        max-width: 4.6ex;
        background: white;
      }

      .govuk-input--width-4 {
        max-width: 8ex;
        background: white;
      }
    }

    .govuk-fieldset__legend--s, .govuk-error-message {
      display: none;
    }

    .govuk-form-group {
      margin-top: 0;
      margin-bottom: 0;
    }

    .govuk-form-group--error {
      padding-left: 0;
      border: none;
    }
  }

  caption {
    font-size: 21px;
    text-align: left;
  }
}

.totals-table {
  th, td {
    &.right {
      text-align: left;
      @media screen and (min-width: 760px) {
        text-align: right;
      }
    }
  }

  th {
    &.error-line-label {
      padding-bottom: 0;
      vertical-align: bottom;
      span {
        display: block;
        height: 40px;
        line-height: 40px;
      }
    }
  }

  td {
    &.readonly {
      span {
        background-color: #E6E6E6;
        border: 2px solid var(--input-border);
        display: block;
        height: 36px;
        line-height: 36px;
        padding: 0 5px;
      }
    }
  }
}

.borderless {
  margin-right: 6px;
  width: 100%;
  border-color: #B1B4B6;
  &:focus {
    outline: 3px solid #fd0;
    outline-offset: -3px;
    -webkit-box-shadow: inset 0 0 0 5px;
    box-shadow: inset 0 0 0 5px;
    width: 100%;
  }
}

.legend-small {
  font-size: 18px;
}

.bor-bottom {
  border-color: var(--border-divider);
  border-style: solid;
  border-width: 0 0 1px;
}

/* Responsive Tables */
/*
Max width before this PARTICULAR table gets nasty
This query will take effect for any screen smaller than 760px
and also iPads specifically.
*/
@media only screen and (max-width: 760px),
(min-device-width: 768px) and (max-device-width: 1024px)  {

  /* Force table to not be like tables anymore */
  table, thead, tbody, th, td, tr {
    display: block;
  }

  /* Hide table headers (but not display: none;, for accessibility) */
  thead tr {
    position: absolute;
    top: -9999px;
    left: -9999px;
  }

  tr { border: 1px solid #ccc; }

  td,
  table.contribution-details td.input{
    /* Behave  like a "row" */
    border: none;
    border-bottom: 1px solid #eee;
    position: relative;
    padding-left: 50%;
  }

  .spaced-table td.readonly {
    padding: 0 0 0 50%;
  }

  table.contribution-details {
    caption {
      display: block;
      margin-bottom: 5px;
    }
  }

  table.totals-table {
    td {
      margin-bottom: 2px;
    }

  }


  table.contribution-details td,
  .save-print-wrapper .category-totals td {
    border-bottom: 1px solid #eee;
  }

  .save-print-wrapper table.contribution-details td,
  .save-print-wrapper .category-totals td,
  .save-print-wrapper .totals-table td {
    border-bottom: 1px solid #eee;
    padding-top: 7px;
    padding-bottom: 7px;
  }

  .save-print-wrapper .totals-row-header {
    padding: 7px 0 7px 6px;
  }

  td:before {
    /* Now like a table header */
    color: #505a5f;
    position: absolute;
    /* Top/left values mimic padding */
    top: 0;
    left: 6px;
    width: 45%;
    padding-right: 10px;
    white-space: nowrap;

    height: 100%;
  }

  td.input:before {
    top: 5px;
  }

  .save-print-wrapper .contribution-details td:before,
  .save-print-wrapper .category-totals td:before,
  .save-print-wrapper .totals-table td:before {
    top: 8px;
  }

  table.totals td:before {
    top: 0px;
    line-height: 40px;
  }

  .contribution-details .explanation-row td {
    height: auto;
    padding-left: 0;
  }

  .contribution-details .explanation-row td .explanation {
    padding: 0 5px;
  }

  .contribution-details .explanation-row td:before { content: ""; }

  @media only screen and (max-width: 760px){
    .contribution-details .date-toggles.date-inputs {
      height: auto;
    }
  }


  /* Totals */
  /* - tbody th */
  .totals-table tbody th.right {
    height: 40px;
    line-height: 40px;
    text-align: left;
    padding-left: 50%;
  }

  #save-print-wrapper table td {
    height: 30px;
    line-height: 30px;
  }

  /* Overwrite margins for standard contribution table on non .input cells */
  #save-print-wrapper .contribution-details td {
    padding-left: 50%;
  }

  #save-print-wrapper td:before {
    top: 0;
  }
}



.save-print-wrapper {
  table {
    &.contribution-details {
      th {
        &.category-col {
          width: 125px;
        }
      }
    }
  }
}

#save-print-wrapper th {
  height: 30px;
  line-height: 30px;
}